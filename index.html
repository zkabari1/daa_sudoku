<html>
<head>
	<link rel="stylesheet" href="style.css">
	<script src="js/four.js"></script>
	<script src="js/six.js"></script>
	<script src="js/nine.js"></script>
	<script src="js/sixteen.js"></script>
</head>
<body onload="creategrid()">

<div class="split left">
	<h1 class="text">Sudoku</h1>
	<h4 class="text">Hours of brain challenging fun</h4><br>
	<div class="text">
		<h4> Grid: 
			<select onchange="creategrid()" id="grid">
				<option value="4" selected="selected">4x4</option>
				<option value="6">6x6</option>
				<option value="9">9x9</option>
				<option value="16" >16x16</option>
			</select>
		</h4>
		
		<h4> Level: 
			<input type="radio" name="lvl" value="easy" checked="checked" onclick="creategrid()"> Easy
			<input type="radio" name="lvl" value="med"  onclick="creategrid()"> Medium
			<input type="radio" name="lvl" value="hard" onclick="creategrid()"> Hard
		</h4>
		
		<div id="btns" >
		<button type="button" class="button" onclick="checkgrid()">Check</button>
		<button type="button" class="button" onclick="creategrid()">Reset</button><br><br>
		<button type="button" class="button" onclick="solution()">See Solution</button><br><br>
		<button type="button" class="button" onclick="emptygrid()">Create Your Own Grid</button>
		</div>
		
	</div>
</div>

<div class="split right" >
	<div class="centered" id="right">
	</div>
	
</div>

<script type="text/javascript">
document.getElementById("grid").onchange = function() {creategrid()};
document.getElementsByName("lvl").onchange = function() {creategrid()};

function creategrid() {
	document.getElementById("right").innerHTML = "";
	let count=document.getElementById('grid').value;
	let level=document.querySelector('input[name=lvl]:checked').value;
	let body = document.getElementById("right");
		let tbl = document.createElement("table");
		tbl.setAttribute("id",'A'+count);
	  	let tblBody = document.createElement("tbody");
	  	for (let i = 0; i < count; i++) {
	    	let row = document.createElement("tr");
	    	for (let j = 0; j < count; j++) {
				let cell = document.createElement("td");
				cell.setAttribute("contenteditable","true");
	      		let cellText = document.createTextNode('');
	      		cell.appendChild(cellText);
				row.appendChild(cell);
	    	}
	    	tblBody.appendChild(row);
	  	}tbl.appendChild(tblBody);
	  	body.appendChild(tbl);
	
	if(count==4){
		if(level === "easy"){
		var easy = new Array(['','','','3'],['3','2','4',''],['','4','3','2'],['2','','','']);
			for(let i=0;i<count;i++){
				for(let j=0;j<count;j++){
					if(easy[i][j]!== ''){
						tbl.rows[i].cells[j].innerHTML=easy[i][j];
					}
					else{
						tbl.rows[i].cells[j].setAttribute("data-sol","1");
					}
				}
			}
		}
		else if(level === "med"){
		var easy = new Array(['3','','',''],['','1','3',''],['','4','2',''],['','','','4']);
			for(let i=0;i<count;i++){
				for(let j=0;j<count;j++){
					if(easy[i][j]!== ''){
						tbl.rows[i].cells[j].innerHTML=easy[i][j];
					}
					else{
						tbl.rows[i].cells[j].setAttribute("data-sol","1");
					}
				}
			}
		}
		else{
		var easy = new Array(['1','','4',''],['','','',''],['','','',''],['','1','','2']);
			for(let i=0;i<count;i++){
				for(let j=0;j<count;j++){
					if(easy[i][j]!== ''){
						tbl.rows[i].cells[j].innerHTML=easy[i][j];
					}
					else{
						tbl.rows[i].cells[j].setAttribute("data-sol","1");
					}
				}
			}
		}
	}
	else if(count==6){
		if(level === "easy"){
		var easy = [0,0,0,0,5,2,2,0,5,0,6,0,1,0,0,0,0,0,4,6,2,3,0,5,0,4,0,0,3,0,0,2,0,0,4,1];
			for(let i=0,k=0;i<count;i++){
				for(let j=0;j<count;j++,k++){
					if(easy[k]!== 0){
						tbl.rows[i].cells[j].innerHTML=easy[k];
					}
					else{
						tbl.rows[i].cells[j].innerHTML="";
						tbl.rows[i].cells[j].setAttribute("data-sol","1");
					}
				}
			}
		}
		else if(level === "med"){
		var easy = [4,0,0,0,0,0,
					1,0,0,0,3,5,
					0,0,0,0,0,0,
					0,0,1,0,0,6,
					0,1,4,5,0,3,
					0,5,6,2,0,4];
			for(let i=0,k=0;i<count;i++){
				for(let j=0;j<count;j++,k++){
					if(easy[k]!== 0){
						tbl.rows[i].cells[j].innerHTML=easy[k];
					}
					else{
						tbl.rows[i].cells[j].innerHTML="";
						tbl.rows[i].cells[j].setAttribute("data-sol","1");
					}
				}
			}
		}
		else{
		var easy = [0,4,0,0,0,6,
					1,0,0,0,3,0,
					3,0,0,1,0,5,
					0,0,0,0,0,0,
					0,5,0,0,0,0,
					0,0,6,0,0,0];
		for(let i=0,k=0;i<count;i++){
				for(let j=0;j<count;j++,k++){
					if(easy[k]!== 0){
						tbl.rows[i].cells[j].innerHTML=easy[k];
					}
					else{
						tbl.rows[i].cells[j].innerHTML="";
						tbl.rows[i].cells[j].setAttribute("data-sol","1");
					}
				}
			}
		}
	}
	else if(count==9){
		if(level === "easy"){
		var easy = [5,0,9,1,0,0,6,4,2,0,4,1,0,5,0,0,8,0,6,7,0,2,0,4,0,9,5,1,0,0,8,0,3,0,5,9,8,9,4,5,6,0,3,7,1,0,0,5,4,1,0,2,6,8,3,0,8,7,4,0,0,0,0,0,0,0,6,0,5,8,3,4,4,0,6,3,9,8,5,1,0];
			for(let i=0,k=0;i<count;i++){
				for(let j=0;j<count;j++,k++){
					if(easy[k]!== 0){
						tbl.rows[i].cells[j].innerHTML=easy[k];
					}
					else{
						tbl.rows[i].cells[j].innerHTML="";
						tbl.rows[i].cells[j].setAttribute("data-sol","1");
					}
				}
			}
		}
		else if(level === "med"){
		var easy = [9,0,0,0,3,0,0,0,0,0,0,0,6,0,0,0,0,0,0,0,0,7,1,0,0,2,0,4,0,0,1,5,6,0,0,0,0,2,0,0,0,0,0,0,0,0,8,0,4,0,0,0,0,0,7,0,0,0,4,0,5,0,9,1,0,0,8,0,0,3,0,0,2,0,0,0,0,0,0,0,0];
			for(let i=0,k=0;i<count;i++){
				for(let j=0;j<count;j++,k++){
					if(easy[k]!== 0){
						tbl.rows[i].cells[j].innerHTML=easy[k];
					}
					else{
						tbl.rows[i].cells[j].innerHTML="";
						tbl.rows[i].cells[j].setAttribute("data-sol","1");
					}
				}
			}
		}
		else{
		var easy = [0,0,0,0,0,0,0,0,9,
					0,0,0,4,0,1,0,0,7,
					5,0,0,0,0,8,0,0,0,
					0,0,7,0,0,0,0,0,0,
					3,0,0,0,0,0,7,0,0,
					0,9,0,7,0,0,8,0,0,
					0,0,5,0,0,4,0,0,0,
					8,2,0,9,0,7,0,1,5,
					9,7,0,5,0,6,2,0,3];
			for(let i=0,k=0;i<count;i++){
				for(let j=0;j<count;j++,k++){
					if(easy[k]!== 0){
						tbl.rows[i].cells[j].innerHTML=easy[k];
					}
					else{
						tbl.rows[i].cells[j].innerHTML="";
						tbl.rows[i].cells[j].setAttribute("data-sol","1");
					}
				}
			}
		}
	}
	else{
		if(level === "easy"){
		var easy = [0,3,0,0,0,0,11,0,5,14,0,6,0,10,0,0,0,0,0,4,3,0,0,0,0,12,15,10,0,0,0,0,0,0,1,15,14,10,13,16,0,0,4,2,0,0,0,9,0,2,16,0,9,12,0,0,0,7,0,0,0,0,0,0,0,14,10,0,2,0,0,1,0,5,6,0,0,0,16,0,4,0,0,7,0,0,0,0,0,0,0,0,0,0,5,0,16,13,9,12,0,0,0,7,2,1,0,0,0,0,0,0,8,0,0,0,0,9,0,0,0,0,0,14,15,0,7,0,0,5,4,13,7,0,0,14,0,8,0,0,0,1,0,0,6,0,15,0,0,0,1,0,0,3,0,0,4,0,0,0,0,0,0,14,11,0,5,0,0,0,0,0,0,0,13,3,3,0,0,10,0,0,6,8,0,13,0,0,16,15,0,7,2,0,0,8,10,0,16,0,3,0,0,5,14,0,15,0,15,0,0,0,0,0,9,0,0,6,0,0,3,7,0,0,0,0,13,5,0,3,0,0,0,0,0,0,0,0,10,1,14,16,0,0,5,13,15,11,0,0,0,0,6,4,12,0];
			for(let i=0,k=0;i<count;i++){
				for(let j=0;j<count;j++,k++){
					if(easy[k]!== 0){
						tbl.rows[i].cells[j].innerHTML=easy[k];
					}
					else{
						tbl.rows[i].cells[j].innerHTML="";
						tbl.rows[i].cells[j].setAttribute("data-sol","1");
					}
				}
			}
		}
		else if(level === "med"){
		var easy = [0,0,11,3,0,0,1,0,15,10,8,0,5,4,14,0,
					6,4,0,0,0,0,2,7,0,0,0,0,0,8,0,0,
					0,7,0,15,11,9,0,3,0,0,0,0,0,0,0,0,
					1,0,5,0,0,0,12,0,0,13,9,0,0,0,0,0,
					0,0,0,10,16,8,0,0,0,0,3,0,0,0,0,0,
					0,0,0,0,0,0,0,0,0,11,0,0,4,9,0,5,
					0,11,0,4,6,2,14,0,0,9,0,0,15,0,0,0,
					2,15,0,0,9,10,13,0,0,0,0,0,0,0,11,16,
					0,0,0,8,0,0,16,10,13,6,0,0,0,0,15,0,
					0,0,0,11,0,0,15,0,0,5,0,9,12,2,1,7,
					0,0,2,0,0,14,5,0,8,0,0,0,13,0,9,0,
					0,14,1,0,0,7,0,0,10,3,0,2,0,5,8,0,
					10,9,8,1,0,0,11,0,2,0,7,6,0,13,12,0,
					0,13,0,14,0,0,0,0,0,12,5,0,7,10,3,0,
					0,0,0,0,0,0,0,13,0,15,0,0,0,0,0,8,
					0,0,0,0,0,0,0,12,3,0,1,0,0,15,5,11];;
			for(let i=0,k=0;i<count;i++){
				for(let j=0;j<count;j++,k++){
					if(easy[k]!== 0){
						tbl.rows[i].cells[j].innerHTML=easy[k];
					}
					else{
						tbl.rows[i].cells[j].innerHTML="";
						tbl.rows[i].cells[j].setAttribute("data-sol","1");
					}
				}
			}
		}
		else{
		var easy = [0,14,16,0,9,4,8,0,0,11,0,0,0,10,0,13,
					0,0,2,13,3,15,6,7,0,0,0,0,0,0,0,0,
					15,0,3,12,5,0,0,0,0,0,0,0,0,0,6,7,
					5,6,0,8,0,12,0,0,0,0,7,0,0,14,15,0,
					0,0,0,0,0,3,16,0,0,1,15,0,0,0,8,0,
					0,0,5,0,0,0,9,0,2,0,13,0,0,3,0,0,
					4,13,1,11,0,0,0,15,0,12,0,0,0,7,16,0,
					0,0,6,14,0,0,0,11,0,8,0,5,0,0,10,0,
					6,0,9,0,0,0,12,0,0,0,14,0,0,0,0,0,
					0,0,0,0,11,0,4,10,0,7,9,0,0,13,2,8,
					13,0,0,0,0,1,14,9,4,0,10,0,11,15,0,0,
					0,1,0,0,2,0,0,0,0,15,0,0,0,5,14,3,
					2,0,12,0,0,0,0,4,0,0,0,0,0,0,0,15,
					0,4,0,0,0,0,0,0,0,9,2,8,5,1,0,0,
					0,7,0,0,0,14,13,0,0,16,0,4,0,0,12,9,
					0,0,0,0,0,9,0,0,10,3,0,6,14,16,13,0];
			for(let i=0,k=0;i<count;i++){
				for(let j=0;j<count;j++,k++){
					if(easy[k]!== 0){
						tbl.rows[i].cells[j].innerHTML=easy[k];
					}
					else{
						tbl.rows[i].cells[j].innerHTML="";
						tbl.rows[i].cells[j].setAttribute("data-sol","1");
					}
				}
			}
		}
	}	
}
function emptygrid() {
	document.getElementById("right").innerHTML = "";
	let count=document.getElementById('grid').value;
	let body = document.getElementById("right");
		let tbl = document.createElement("table");
		tbl.setAttribute("id",'A'+count);
	  	let tblBody = document.createElement("tbody");
	  	for (let i = 0; i < count; i++) {
	    	let row = document.createElement("tr");
	    	for (let j = 0; j < count; j++) {
	      		let cell = document.createElement("td");
				cell.setAttribute("contenteditable","true");
	      		let cellText = document.createTextNode('');
	      		cell.appendChild(cellText);
	      		row.appendChild(cell);
	    	}
	    	tblBody.appendChild(row);
	  	}tbl.appendChild(tblBody);
	  	body.appendChild(tbl);	
}
function solution(){
	let count=document.getElementById('grid').value;
	let sol=[];
	if (count == 4)
		sol=solving4();
	if (count == 6)
		solving6();
	if (count == 9)
		solving9();
	if (count == 16)
		solving16();
	return sol;
}
function checkgrid(){
	let count=document.getElementById('grid').value;
	console.log("checking grid");
	let result=[];
	let body = document.getElementById("right");
	let tbl = body.getElementsByTagName("table")[0];
	for(let i=0;i<count;i++){
		result[i]=[];
		for(let j=0;j<count;j++){
			if(tbl.rows[i].cells[j].innerHTML !== "")
				result[i][j]=tbl.rows[i].cells[j].innerHTML;
			else
				result[i][j]="0";
		}
	}
	//console.log(result);
	let sol=solution();
	//console.log(sol);
	
	compare();
	function compare(){
		for(let i=0;i<count;i++){
			for(let j=0;j<count;j++){
				console.log(result[i][j],sol[i][j]);
				if(result[i][j]!== sol[i][j]){
					alert("Sudoku not solved. Please try again!!");
					creategrid();
					return;
				}
			}
		}
		alert("Congrats!! You solved the sudoku");
		return;
	}
	
}
</script>

</body>
</html>