<input type="button" onclick="solution();"/>
<script type="text/javascript">
const MAX=25

//Function to get input from user as unsolved Sudoku Board
//Returns the size of board as per users choice

//Function to display solved Sudoku Board
function displaySolution(sudoku, size)
{
    for(let i=0;i<size;i++)
    {
        for(let j=0;j<size; j++)
            var str = sudoku[i].join(' ');
			console.log(str);
	}
}

// Function to check if board is solved now i. e. it has no vacancies
// If the board is full then it is solved correctly
// This is true because, for each number we put in any cell,  we always check if all other vacant places can be
// filled by some numbers such that board is always in valid state

function isFull(sudoku, size)
{
    let i,j;
    for(i=0;i<size;i++)
        for(j=0;j<size;j++)
            if(sudoku[i][j]===0)
                return false;
    return true;
}

//Function gives all different possible numbers those can be put on board such that board will be in valid
// state, and this is done by checking numbers already appeared in row, column and block
//Function to find various possible values at position (r, c)
//Returns no. of possible values at that position
//and those values in array a[]
function findPossibleValues(sudoku, size, a, r, c)
{
    let n=0;
    let i,j;
    let s=Math.sqrt(size);
    let b=new Array(MAX+1);
	b.fill(0);

    //Note no.s appeared in current row
    for(i=0; i<size; i++)
        b[sudoku[r][i]]=1;

    //Note no.s appeared in current column
    for(i=0; i<size; i++)
        b[sudoku[i][c]]=1;

    //Note no.s appeared in current block
    r=(r/s)*s, c=(c/s)*s;
    for(i=r; i<r+s; i++)
        for(j=c; j<c+s;j++)
            b[sudoku[i][j]]=1;

    //Fill array a[] with no.s unappeared in current row, column and block
    for(i=1;i<=size; i++)
        if(b[i]!==1)
            a[n++]=i;
	console.log(b);
	return n;
}

//Function to solve the sudoku board
//Gives solved_flag as true if at least one solution is possible, false otherwise
//Gives multiple solutions with corresponding soultion no.
//Returns when user does not want more solutions

// This is our key function which solves the board
// Initially it checks if the board is full now
// If board is not full, then it finds the first position/cell which is vacant.
// Then it finds all possible values at that position
// Tries all these possible values in that cell
// For each trial/guess/choice, it tries to solve the updated board
// If no choice come out to be correct one for that vacant place, then definitely some previous choices are
// wrong
// Hence it backtracks and tries to correct the previous choices
function SolveSudoku(sudoku, size, solved_flag)
{
    let i,j, a=new Array(MAX+1), n=0,loop=1;
	a.fill(0);
	//console.log(sudoku);
    
    if(isFull(sudoku, size))    //true if now sudoku board is solved completely
    {

        if(!solved_flag)
            console.log("Sudoku Solved Successfully!");
        solved_flag = 1;

        //show the solution
        displaySolution(sudoku, size);

        return;
    }

    //Find first vacant place/position
    let break_flag = 0;
    for(i=0;i<size;i++)
    {
        for(j=0;j<size;j++)
            if(sudoku[i][j]===0)
            {
                break_flag = 1;
                break;
            }
        if(break_flag)
            break;
    }

    //check possibilities at that vacant place
    n = findPossibleValues(sudoku, size, a, i, j);
	console.log(i," ",j,a);
    for(let l=0;l<n;l++)
    {
        //put value at vacant place
        sudoku[i][j]=a[l];
		console.log(a[l]);
		//loop++;
		//displaySolution(sudoku,size);
        //now solve the updated board
        SolveSudoku(sudoku, size, solved_flag);
    }

    // Note this backtracking step, a very important step**
   // We come at this position, this step, this line when we have already checked all possible values at
   // sudoku[i][j] and we couldn't find the solution
   // Put any value does not solves our board implies that we must have made wrong choice earlier
   // so we make this sudoku[i][j] again a vacant cell and try to correct our previous guesses/choices.
    sudoku[i][j]=0;
}

//Starting point
function solution()
{
    //Input
    let sudoku = [[5,0,9,1,0,0,6,4,2],[0,4,1,0,5,0,0,8,0],[6,7,0,2,0,4,0,9,5],[1,0,0,8,0,3,0,5,9],[8,9,4,5,6,0,3,7,1],[0,0,5,4,1,0,2,6,8],[3,0,8,7,4,0,0,0,0],[0,0,0,6,0,5,8,3,4],[4,0,6,3,9,8,5,1,0]];
    size = 9;
	console.log(sudoku);
    let solved_flag = 0;
    
    SolveSudoku(sudoku, size, solved_flag);

    return 0;
}
</script>